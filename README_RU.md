# Плагин для сокращения ссылок в WordPress

## Описание

Плагин для сокращения ссылок, который позволяет авторизованным пользователям управлять сокращением URL непосредственно
из панели администратора WordPress.

## Возможности

1. **Управление ссылками:**
    - Создание сокращенных URL из панели администратора.
    - Возможность вручную указать новый сокращенный URL или сгенерировать его автоматически.
    - Редактирование, удаление, сортировка и поиск существующих ссылок.
    - Отображение таблицы со всеми сокращенными ссылками и количеством кликов по каждой ссылке.

2. **Функциональность ссылок:**
    - Перенаправление пользователей на оригинальный URL при нажатии на сокращенную ссылку.
    - Отслеживание количества кликов по каждой сокращенной ссылке.
    - Отслеживание дополнительной информации, такой как дата и время перехода по ссылке, IP-адрес и реферер.

3. **Настройки и безопасность:**
    - Программное переопределение ролей пользователей через хуки для управления доступом к управлению ссылками.

## Установка

1. Скачайте плагин с [репозитория GitHub](https://github.com/makaravich/links-shortener).
2. Загрузите файлы плагина в каталог `/wp-content/plugins/links-shortener`, или установите плагин напрямую через страницу
   плагинов WordPress.
3. Активируйте плагин на странице 'Плагины' в WordPress.
4. Перейдите на страницу 'Инструменты' -> 'Links Shortener' в админке для управления ссылками.

## Использование

1. Перейдите на страницу 'Инструменты' -> 'Links Shortener' в панели администратора WordPress.
2. Введите длинный URL, который вы хотите сократить, и укажите кастомный короткий URL, если необходимо.
3. Поле _"Short link slug"_ является необязательным. Если оставить его пустым, будет сгенерирован автоматический
   короткий URL.
4. Нажмите кнопку _"Short the link"_, чтобы сгенерировать короткую ссылку.
5. Список всех сокращенных ссылок вместе с количеством кликов будет отображаться в таблице под формой.
6. Используйте функцию поиска для нахождения конкретных ссылок или удаления, а также редактирования ссылок.

## Разработка

Если вы разработчик WordPress, вы можете использовать следующие хуки:

- _linkssh_allowed_user_roles_ - данный хук позволяет настраивать, какие роли пользователей могут управлять плагином
  сокращения ссылок. По умолчанию эти возможности имеют роли 'administrator', 'editor' и 'author'.

Чтобы изменить этот список, вы можете использовать следующий код в файле functions.php вашей темы или в своём плагине:

```php
add_filter('linkssh_allowed_user_roles', function($roles) {
// Добавляем роль 'contributor' в список разрешенных ролей
$roles[] = 'contributor';
return $roles;
});
```

Этот пример добавляет роль 'contributor' в список ролей, которые могут управлять возможностями сокращения ссылок. Вы
можете изменить массив по мере необходимости, включая или исключая любые роли в зависимости от ваших нужд.

- _linksh_posts_table_columns_ - позволяет настраивать колонки, отображаемые в таблице управления ссылками в
  административной панели WordPress.

Не стесняйтесь форкать репозиторий и вносить улучшения. Pull-запросы приветствуются.

## Лицензия

Этот проект распространяется под лицензией GNU GENERAL PUBLIC LICENSE — смотрите файл [LICENSE](LICENSE) для получения
дополнительной информации.

## Контакты

Если у вас возникли вопросы, не стесняйтесь создать issue или связаться со мной напрямую
по адресу [d.makarski@gmail.com](mailto:d.makarski@gmail.com).
